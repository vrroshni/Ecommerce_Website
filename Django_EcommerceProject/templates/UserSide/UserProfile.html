{% extends 'UserSide/base_userside.html' %}
{% load static %}
{% block title %}
{% endblock %}
{% block externalLinks %}
<style>
    /* body{
    margin-top:20px;
    color: #1a202c;
    text-align: left;
    background-color: #e2e8f0;    
} */
    .main-body {
        padding: 15px;
    }

    .card {
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);
    }

    .card {
        position: relative;
        display: flex;
        flex-direction: column;
        min-width: 0;
        word-wrap: break-word;
        background-color: #fff;
        background-clip: border-box;
        border: 0 solid rgba(0, 0, 0, .125);
        border-radius: .25rem;
    }

    .card-body {
        flex: 1 1 auto;
        min-height: 1px;
        padding: 1rem;
    }

    .gutters-sm {
        margin-right: -8px;
        margin-left: -8px;
    }

    .gutters-sm>.col,
    .gutters-sm>[class*=col-] {
        padding-right: 8px;
        padding-left: 8px;
    }

    .mb-3,
    .my-3 {
        margin-bottom: 1rem !important;
    }

    .bg-gray-300 {
        background-color: #e2e8f0;
    }

    .h-100 {
        height: 100% !important;
    }

    .shadow-none {
        box-shadow: none !important;
    }
    .content {
        
        font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        background-color: #efefef;
        font-weight: 300;
    }

    .custom-table {
        min-width: 900px;
    }

    .custom-table thead tr,
    .custom-table thead th {
        border-top: none;
        border-bottom: none !important;
    }

    .custom-table tbody th,
    .custom-table tbody td {
        color: #777;
        font-weight: 400;
        /* padding-bottom: 20px;
        padding-top: 20px; */
        font-weight: 300;
        border: none;
    }

    .custom-table tbody th small,
    .custom-table tbody td small {
        color: #b3b3b3;
        font-weight: 300;
    }

    .custom-table tbody tr {
        -webkit-transition: .3s all ease;
        -o-transition: .3s all ease;
        transition: .3s all ease;
    }

    .custom-table tbody tr:hover,
    .custom-table tbody tr:focus {
        background: #fff;
    }

    .custom-table .td-box-wrap {
        padding: 0;
    }

    .custom-table .box {
        background: #fff;
        border-radius: 4px;
        margin-top: 15px;
        margin-bottom: 15px;
    }

    .custom-table .box td,
    .custom-table .box th {
        border: none !important;
    }
    .table-responsive{
        scrollbar-width: thin;
    }


    @import "bootstrap/functions";
    @import "bootstrap/variables";
    @import "bootstrap/mixins";

    $font-family-sans-serif-2: 'Poppins', sans-serif;
    $font-family-serif: 'Source Serif Pro', serif;

    p {
        color: darken(#ccc, 10%);
        font-weight: 300;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    .h1,
    .h2,
    .h3,
    .h4,
    .h5,
    .h6 {
        font-family: $font-family-sans-serif;
    }

    a {
        transition: .3s all ease;

        &,
        &:hover {
            text-decoration: none !important;
        }
    }

    .content {
        padding: 7rem 0;
    }

    h2 {
        font-size: 20px;
    }


    .custom-table {
        min-width: 900px;

        thead {

            tr,
            th {
                border-top: none;
                border-bottom: none !important;
            }
        }

        tbody {

            th,
            td {
                color: #777;
                font-weight: 400;
                padding-bottom: 20px;
                padding-top: 20px;
                font-weight: 300;
                border: none;

                small {
                    color: darken(#ccc, 10%);
                    font-weight: 300;
                }
            }

            tr {
                transition: .3s all ease;
                &:hover,
                &:focus {
                    background: $white;
                }
            }
        }

        .td-box-wrap {
            padding: 0;
        }

        .box {
            background: $white;
            border-radius: 4px;
            margin-top: 15px;
            margin-bottom: 15px;

            td,
            th {
                border: none !important;
            }
        }

    }
</style>
{% endblock %}
{% block contentbody %}
<!-- Breadcrumb area Start -->
<section class="page-title-area bg-image ptb--80" data-bg-image="assets/img/bg/page_title_bg.jpg">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <h1 class="page-title">My Account</h1>
                <ul class="breadcrumb">
                    <li><a href="index.html">Home</a></li>
                    <li class="current"><span>My Account</span></li>
                </ul>
            </div>
        </div>
    </div>
</section>
<!-- Breadcrumb area End -->
<!-- Main Content Wrapper Start -->
<div class="main-content-wrapper">

    <div class="page-content-inner ptb--80 ptb-md--60 pb-sm--55">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="user-dashboard-tab flex-column flex-md-row">
                        <div class="user-dashboard-tab__head nav flex-md-column" role="tablist"
                            aria-orientation="vertical">
                            <button type="button" class="nav-link active" data-bs-toggle="tab" role="tab"
                                data-bs-target="#dashboard" aria-controls="dashboard"
                                aria-selected="true">Dashboard</button>
                            <button type="button" class="nav-link" data-bs-toggle="tab" role="tab"
                                data-bs-target="#orders" aria-controls="orders" aria-selected="true">Orders</button>
                            <button type="button" class="nav-link" data-bs-toggle="tab" role="tab"
                                data-bs-target="#addresses" aria-controls="addresses"
                                aria-selected="true">Addresses</button>
                            <button type="button" class="nav-link" data-bs-toggle="tab" role="tab"
                                data-bs-target="#accountdetails" aria-controls="accountdetails"
                                aria-selected="true">Profile</button>
                            <button type="button" class="nav-link" data-bs-toggle="tab" role="tab"
                                data-bs-target="#EditaccountDetails" aria-controls="EditaccountDetails"
                                aria-selected="true">Edit Profile</button>
                            <button type="button" class="nav-link" data-bs-toggle="tab" role="tab"
                                data-bs-target="#Wallet" aria-controls="Wallet" aria-selected="true">Wallet</button>
                            <a type="button" class="nav-link" href="{% url 'Userlogout'%}">Logout</a>
                        </div>
                        <div class="user-dashboard-tab__content tab-content">
                            <div class="tab-pane fade show active" id="dashboard">
                                <p>Hello <strong>{{user.username}}</strong> (not <strong>{{user.username}}</strong>? <a
                                        href="{% url 'Userlogout'%}">Log out</a>)</p>
                                <p>From your account dashboard. you can easily check &amp; view your <a href="">recent
                                        orders</a>, manage your <a href="">shipping and billing addresses</a> and <a
                                        href="">edit your password and account details</a>.</p>
                            </div>
                            <div class="tab-pane fade" id="orders">
                                <div class="content">

                                    <div class="container">
                                        <div class="table table-responsive">
                                            <table class="table custom-table">
                                                <thead>
                                                    <tr>
                                                        <th > <b>S.No</b> </th>
                                                        <th > <b>ORDER ID</b></th>
                                                        <th > <b>Date</b> </th>
                                                        <th > <b>Product</b> </th>
                                                        <th > <b>Payment Method</b> </th>
                                                        <th > <b>Status</b> </th>
                                                        <th > <b>Product Price</b> </th>
                                                        <th ><b>Invoice</b></th>
                                                        <th ><b>....</b></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {% for i in OrderProductDetails %}
                                                    <tr >
                                                        <td>{{forloop.counter}}</td>
                                                        <td>{{i.order.order_id}}</td>
                                                        <td class="p-3" style="min-width: 170px">{{i.order.date}}</td>
                                                        <td>{{i.product.product_name}}</td>
                                                        <td>{{i.payment.payment_method}}</td>
                                                        <td>{{i.status}}</td>
                                                        <td> ₹{{i.product_price}}</td>
                                                        <td><a href="{% url 'Invoice' i.id  %}" class="btn btn-size-sm">Invoice</a></td>
                                                        <td class="product-action-btn">
                                                            {% if i.status == 'Order Confirmed' %}
                                                            <a href="{% url 'CancelorderProfile' i.id %}" class="btn btn-size-sm ">Cancel</a>
                                                            
                                                            {% elif i.status == 'Delivered' %}
                                                            <a href="{% url 'OrderReturn' i.id %}" class="btn btn-size-sm ">Return</a>
                                                            {% else  %}
                                                            {% endif %}

                                                        </td>
              

                                                    </tr>
                                                    {% endfor %}
                                                </tbody>
                                            </table>
                                        </div>


                                    </div>

                                </div>



                                <!-- <div class="row">
                                    <div class="col-12">
                                        <div class="table-content ">
                                            <table class="table text-center">
                                                <thead>
                                                    <tr>
                                                        <th>S.No</th>
                                                        <th>Order ID </th>
                                                        <th>Date</th>
                                                        <th>Product</th>
                                                        <th>Payment Method</th>
                                                        <th>Status</th>
                                                        <th>Total</th>
                                                        <th>Invoice</th>
                                                        <th>....</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {% for i in OrderProductDetails %}
                                                    <tr>
                                                        <td>{{forloop.counter}}</td>
                                                        <td>{{i.order.order_id}}</td>

                                                        <td class="wide-column">{{i.order.date}}</td>
                                                        <td>{{i.product.product_name}}</td>
                                                        <td>{{i.payment.payment_method}}</td>
                                                        <td>{{i.status}}</td>
                                                        <td> {{i.product_price}} for 1 item</td>
                                                        <td><a href="{% url 'Invoice' i.id  %}" class="btn btn-size-sm">Invoice</a></td>
                                                        <td class="product-action-btn">
                                                            {% if i.status == 'Order Confirmed' %}
                                                            <a href="{% url 'CancelorderProfile' i.id %}" class="btn btn-size-sm ">Cancel</a>
                                                            
                                                            {% elif i.status == 'Delivered' %}
                                                            <a href="{% url 'OrderReturn' i.id %}" class="btn btn-size-sm ">Return</a>
                                                            {% else  %}
                                                            {% endif %}
                    
                                                        </td>
                                                        
                                                    </tr>
                                                    {% endfor %}

                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div> -->
                            </div>

                            <div class="tab-pane fade" id="addresses">
                                <p class="mb--20">The following addresses will be used on the checkout page by default.
                                </p>
                                <div class="row">
                                    <h1 class="text-center"><b>Billing address</b> </h1>
                                    {% for i in AddressDetails %}
                                    <div class="col-md-6 ">




                                        <div class="well-md mt-4">
                                            <div class="card">
                                                <div class="card-body text-center">
                                                    <h2 class="card-title"><b>{{i.Buyername}}</b></h2>
                                                    <p class="card-text">
                                                    <p>{{i.Buyers_Address}}</p>
                                                    <p> {{i.city}}</p>
                                                    <p> {{i.state}}- {{i.pincode}}</p>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                    {% endfor %}

                                </div>
                            </div>

                            <div class="tab-pane fade" id="accountdetails">
                                <div class="container">
                                    <div class="main-body">
                                        <div class="row gutters-sm">
                                            <div class="col-md-4 mb-3">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <div class="d-flex flex-column align-items-center text-center">
                                                            <img src="https://bootdey.com/img/Content/avatar/avatar7.png"
                                                                alt="Admin" class="rounded-circle" width="150">
                                                            <div class="mt-3">
                                                                <h3><strong>{{user.first_name}}{{user.last_name}}</strong>
                                                                </h3>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="col-md-8">
                                                <div class="card mb-3">
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="col-sm-3">
                                                                <h4 class="mb-0">Full Name</h4>
                                                            </div>
                                                            <div class="col-sm-9 text-secondary">
                                                                {{user.first_name}}{{user.last_name}}
                                                            </div>
                                                        </div>
                                                        <hr>
                                                        <div class="row">
                                                            <div class="col-sm-3">
                                                                <h4 class="mb-0">Username</h4>
                                                            </div>
                                                            <div class="col-sm-9 text-secondary">
                                                                {{user.username}}
                                                            </div>
                                                        </div>
                                                        <hr>
                                                        <div class="row">
                                                            <div class="col-sm-3">
                                                                <h4 class="mb-0">Email</h4>
                                                            </div>
                                                            <div class="col-sm-9 text-secondary">
                                                                {{user.email}}
                                                            </div>
                                                        </div>
                                                        <hr>
                                                        <div class="row">
                                                            <div class="col-sm-3">
                                                                <h4 class="mb-0">Mobile</h4>
                                                            </div>
                                                            <div class="col-sm-9 text-secondary">
                                                                {{user.phone_number}}
                                                            </div>
                                                        </div>
                                                        <hr>


                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <a class="btn btn-info btn-size-sm ">Edit</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <!-- --------------------------------- -- ---------------------------------- -->
                            </div>


                            <!-- -------------------- below can be used for editing Profile with coupon trick--------------------- -->

                            <div class="tab-pane fade" id="EditaccountDetails">
                                <div class="container">
                                    <div class="main-body">
                                        <div class="row">
                                            <div class="col-lg-4">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <div class="d-flex flex-column align-items-center text-center">
                                                            <img src="https://bootdey.com/img/Content/avatar/avatar7.png"
                                                                alt="Admin" class="rounded-circle" width="150">
                                                            <div class="mt-3">
                                                                <h3><strong>{{user.first_name}}
                                                                        {{user.last_name}}</strong> </h3>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="col-lg-8">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <form action="" method="post" class="form form--account">
                                                            {% csrf_token %}
                                                            <div class="row mb-3">
                                                                <div class="col-sm-3">
                                                                    <h4 class="mb-0">First Name</h4>
                                                                </div>
                                                                <div class="col-sm-9 text-secondary">
                                                                    <input type="text" class="form-control"
                                                                        value="{{user.first_name}}" name="first_name">
                                                                </div>
                                                            </div>
                                                            <div class="row mb-3">
                                                                <div class="col-sm-3">
                                                                    <h4 class="mb-0">Second Name</h4>
                                                                </div>
                                                                <div class="col-sm-9 text-secondary">
                                                                    <input type="text" class="form-control"
                                                                        value="{{user.last_name}}" name="last_name">
                                                                </div>
                                                            </div>
                                                            <div class="row mb-3">
                                                                <div class="col-sm-3">
                                                                    <h4 class="mb-0">Username</h4>
                                                                </div>
                                                                <div class="col-sm-9 text-secondary">
                                                                    <input type="text" class="form-control"
                                                                        value="{{user.username}}" name="username">
                                                                </div>
                                                            </div>
                                                            <div class="row mb-3">
                                                                <div class="col-sm-3">
                                                                    <h4 class="mb-0">Email</h4>
                                                                </div>
                                                                <div class="col-sm-9 text-secondary">
                                                                    <input type="email" class="form-control"
                                                                        name="email" value="{{user.email}}">
                                                                </div>
                                                            </div>
                                                            <div class="row mb-3">
                                                                <div class="col-sm-3">
                                                                    <h4 class="mb-0">Mobile</h4>
                                                                </div>
                                                                <div class="col-sm-9 text-secondary">
                                                                    <input type="phone" class="form-control"
                                                                        name="phone_number"
                                                                        value="{{user.phone_number}}">
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="col-sm-3"></div>
                                                                <div class="col-sm-9 text-secondary">
                                                                    <input type="submit"
                                                                        class="btn btn-primary btn-size-sm px-4"
                                                                        value="Save Changes">
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="row text-center">

                                <form action="" method="post" class="form form--account">
                                    {% csrf_token %}
                                    <div class="row mb--20">
                                        <div class="col-md-6 mb-sm--20">
                                            <div class="form__group">
                                                <label class="form__label" for="f_name">First name <span
                                                        class="required">*</span></label>
                                                <input type="text" name="first_name" id="f_name" class="form__input"
                                                    value="{{user.first_name}}">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form__group">
                                                <label class="form__label" for="l_name">Last name <span
                                                        class="required">*</span></label>
                                                <input type="text" name="last_name" id="l_name" class="form__input"
                                                    value="{{user.last_name}}">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mb--20">
                                        <div class="col-12">
                                            <div class="form__group">
                                                <label class="form__label" for="d_name">Display name/Username<span
                                                        class="required">*</span></label>
                                                <input type="text" name="username" id="d_name" class="form__input"
                                                    value="{{user.username}}">
                                                <span class="form__notes"><em>This will be how your name will be
                                                        displayed in the account section and in reviews</em></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mb--20">
                                        <div class="col-12">
                                            <div class="form__group">
                                                <label class="form__label" for="email">Email Address <span
                                                        class="required">*</span></label>
                                                <input type="email" name="email" id="email" class="form__input"
                                                    value="{{user.email}}">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mb--20">
                                        <div class="col-12">
                                            <div class="form__group">
                                                <label class="form__label" for="email">Phone Number<span
                                                        class="required">*</span></label>
                                                <input type="phone" name="phone_number" id="email" class="form__input"
                                                    value="{{user.phone_number}}">
                                            </div>
                                        </div>
                                    </div> -->
                                <!-- <fieldset class="form__fieldset mb--20">
                                            <legend class="form__legend">Password change</legend>
                                            <div class="row mb--20">
                                                <div class="col-9">
                                                    <div class="form__group">
                                                        <label class="form__label" for="cur_pass">Current password (leave blank to leave unchanged)</label>
                                                        <input type="password" name="cur_pass" id="cur_pass" class="form__input">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row mb--20">
                                                <div class="col-9">
                                                    <div class="form__group">
                                                        <label class="form__label" for="new_pass">New password (leave blank to leave unchanged)</label>
                                                        <input type="password" name="new_pass" id="new_pass" class="form__input">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-9">
                                                    <div class="form__group">
                                                        <label class="form__label" for="conf_new_pass">Confirm new password</label>
                                                        <input type="password" name="conf_new_pass" id="conf_new_pass" class="form__input">
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset> -->
                                <!-- <div class="row">
                                        <div class="col-12">
                                            <div class="form__group">
                                                <input type="submit" value="Save Changes"
                                                    data-bs-target="#accountDetails" class="btn btn-size-md">
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div> -->

                            </div>
                            <div class="tab-pane fade" id="Wallet">
                                <div class="row text-center">
                                    <div class="row">
                                        <div class="col-12">
                                            {% if walletdetails %}
                                            <div class="table-content ">
                                                <table class="table text-center">
                                                    <thead>
                                                        <tr>
                                                            <th>S.No</th>

                                                            <th>Amount</th>
                                                            <th>Description</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        {% for i in walletdetails %}
                                                        <tr>
                                                            <td>{{forloop.counter}}</td>
                                                            <td>{{i.decription_amount}}</td>
                                                            <td>₹{{i.amount}}</td>



                                                        </tr>
                                                        {% endfor %}

                                                    </tbody>
                                                </table>
                                                {% endif %}
                                                <div class="well p-1 rounded" style="background-color: #999999;">

                                                    <h2 class="mt-5">Balance Available:
                                                        <b>₹{{walletbalance.balance}}</b>
                                                    </h2>
                                                </div>

                                            </div>
                                        </div>
                                    </div>


                                </div>
                                <div class="content">

                                    <div class="container">
                                        <h2 class="mb-5">Table #2</h2>

                                        <div class="table-responsive">

                                            <table class="table custom-table">
                                                <thead>
                                                    <tr>

                                                        <th scope="col">Order</th>
                                                        <th scope="col">Name</th>
                                                        <th scope="col">Occupation</th>
                                                        <th scope="col">Contact</th>
                                                        <th scope="col">Education</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr scope="row">



                                                        <td>
                                                            1392
                                                        </td>
                                                        <td>James Yates</td>
                                                        <td>
                                                            Web Designer
                                                            <small class="d-block">Far far away, behind the word
                                                                mountains</small>
                                                        </td>
                                                        <td>+63 983 0962 971</td>
                                                        <td>NY University</td>

                                                    </tr>





                                                </tbody>
                                            </table>
                                        </div>


                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Main Content Wrapper Start -->
    {% endblock %}